## –≠—Ç–∞–ø 2: –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ (Sprint 1: Genesis & Core)

### 1. –¢–µ—Å—Ç—ã –ò–∑–æ–ª—è—Ü–∏–∏ (Multi-tenancy & DB)

* **–°—Ü–µ–Ω–∞—Ä–∏–π: "–ú–µ–∂–±–∏–∑–Ω–µ—Å–æ–≤–∞—è –≥—Ä–∞–Ω–∏—Ü–∞"**:
* *Happy Path*: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ë–∏–∑–Ω–µ—Å–∞ –ê –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å `unit.getAll` –∏ –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ —é–Ω–∏—Ç—ã.
* *Security Case*: –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ —é–Ω–∏—Ç–∞ –ø–æ `ID`, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–µ–º—É –ë–∏–∑–Ω–µ—Å—É –ë, —á–µ—Ä–µ–∑ tRPC –ë–∏–∑–Ω–µ—Å–∞ –ê, –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `NOT_FOUND` –∏–ª–∏ `FORBIDDEN`.
* *Edge Case*: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –±–µ–∑ `businessId` –¥–æ–ª–∂–Ω–æ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ Prisma middleware –∏–ª–∏ –ë–î.

### 2. –¢–µ—Å—Ç—ã –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –°–µ—Å—Å–∏–π (Magic Links)

* **–°—Ü–µ–Ω–∞—Ä–∏–π: "–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª Magic Link"**:
* *Happy Path*: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Å—ã–ª–∫–∏ -> –ü–µ—Ä–µ—Ö–æ–¥ -> –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏.
* *Edge Case*: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω–æ–π —Å—Å—ã–ª–∫–∏ (—á–µ—Ä–µ–∑ 16 –º–∏–Ω—É—Ç).
* *Security Case*: –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–π —Å—Å—ã–ª–∫–∏ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞.

* **–°—Ü–µ–Ω–∞—Ä–∏–π: "–ê—É–¥–∏—Ç —Å–µ—Å—Å–∏–π"**:
* –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π –≤ –ø—Ä–æ—Ñ–∏–ª–µ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ "—Ä–∞–∑–ª–æ–≥–∏–Ω–∏—Ç—å" –¥—Ä—É–≥–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ.

### 3. –¢–µ—Å—Ç—ã Ownership Handshake (–ü–µ—Ä–µ–¥–∞—á–∞ –ø—Ä–∞–≤)

* **–°—Ü–µ–Ω–∞—Ä–∏–π: "–ü—Ä–æ—Ç–æ–∫–æ–ª –†—É–∫–æ–ø–æ–∂–∞—Ç–∏—è"**:
* *Happy Path*: –ò–Ω–∏—Ü–∏–∞—Ü–∏—è -> –û–∂–∏–¥–∞–Ω–∏–µ -> –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–æ—Å–ª–µ 168 —á–∞—Å–æ–≤.
* *Revocation Logic*: –¢–µ–∫—É—â–∏–π –≤–ª–∞–¥–µ–ª–µ—Ü –æ—Ç–º–µ–Ω—è–µ—Ç –ø–µ—Ä–µ–¥–∞—á—É –Ω–∞ 100-–º —á–∞—Å—É. –°—Ç–∞—Ç—É—Å –¥–æ–ª–∂–µ–Ω –º–≥–Ω–æ–≤–µ–Ω–Ω–æ —Å–±—Ä–æ—Å–∏—Ç—å—Å—è –Ω–∞ `Active`, –∞ `newOwnerId` –æ—á–∏—Å—Ç–∏—Ç—å—Å—è.
* *Edge Case*: –ü–æ–ø—ã—Ç–∫–∞ –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞—Ç—å –≤—Ç–æ—Ä—É—é –ø–µ—Ä–µ–¥–∞—á—É, –ø–æ–∫–∞ –ø–µ—Ä–≤–∞—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫—É–ª–¥–∞—É–Ω–µ.

### 4. –¢–µ—Å—Ç—ã Unit Management & Capabilities

* **–°—Ü–µ–Ω–∞—Ä–∏–π: "–ü—Ä–∞–≤–∞ –ú–æ–¥—É–ª–µ–π"**:
* *Validation*: –ï—Å–ª–∏ —É –Æ–Ω–∏—Ç–∞ –æ—Ç–æ–∑–≤–∞–Ω–æ –ø—Ä–∞–≤–æ `üë• –®—Ç–∞—Ç`, tRPC-—Ä–æ—É—Ç–µ—Ä—ã –ú–æ–¥—É–ª—è 3 (–ì—Ä–∞—Ñ–∏–∫–∏) –¥–æ–ª–∂–Ω—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ—à–∏–±–∫—É –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è —ç—Ç–æ–≥–æ —é–Ω–∏—Ç–∞.
* *Integrity*: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–º–µ–Ω—ã —Ç–∏–ø–∞ –Æ–Ω–∏—Ç–∞ (–¢–æ—á–∫–∞ -> –°–∫–ª–∞–¥), –µ—Å–ª–∏ –≤ –Ω–µ–º —É–∂–µ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞—Ö.

### 5. –¢–µ—Å—Ç—ã UI Core (Frontend Foundation)

* **–°—Ü–µ–Ω–∞—Ä–∏–π: "Command Palette & Layout"**:
* –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è Cmd+K –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –≤—ã–¥–∞—á–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ –ø–æ —é–Ω–∏—Ç–∞–º.
* –ü—Ä–æ–≤–µ—Ä–∫–∞ Glassmorphism-—ç—Ñ—Ñ–µ–∫—Ç–æ–≤: –Ω–∞–ª–∏—á–∏–µ `backdrop-filter` –≤ —Å—Ç–∏–ª—è—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ —á–µ—Ä–µ–∑ CSS-–∏–Ω—Å–ø–µ–∫—Ü–∏—é.
