## üöÄ –°–ø—Ä–∏–Ω—Ç ‚Ññ2: Stateless Inventory (–°–∫–ª–∞–¥ –∏ –°–Ω–∏–º–∫–∏)

**–¶–µ–ª—å:** –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã –¥–∏—Å–∫—Ä–µ—Ç–Ω–æ–≥–æ —É—á–µ—Ç–∞ –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã, –∏—Å–∫–ª—é—á–∞—é—â–µ–π –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è –∑–∞ —Å—á–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã ¬´–°–Ω–∏–º–∫–æ–≤¬ª (Snapshots).

---

### 1. –Ø–¥—Ä–æ —É—á–µ—Ç–∞ (Backend & Logic)

* **Snapshot Engine (Stateless Accounting):** * –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ —Ñ–∏–∫—Å–∞—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∫–ª–∞–¥–∞ —á–µ—Ä–µ–∑ –¥–∏—Å–∫—Ä–µ—Ç–Ω—ã–µ —Å–µ—Å—Å–∏–∏ —Ä–µ–≤–∏–∑–∏–π. –°–∏—Å—Ç–µ–º–∞ –Ω–µ –≤—ã—Å—á–∏—Ç—ã–≤–∞–µ—Ç –æ—Å—Ç–∞—Ç–æ–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, –∞ —Ö—Ä–∞–Ω–∏—Ç –∏—Å—Ç–æ—Ä–∏—é —Å–Ω–∏–º–∫–æ–≤ –¥–ª—è —Ñ–∏–∫—Å–∞—Ü–∏–∏ **Stock Value**.
* **[CRITICAL VALIDATION]:** –ó–∞–ø—Ä–µ—Ç –Ω–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–Ω–∏–º–∫–æ–≤ —Å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º–∏ –æ—Å—Ç–∞—Ç–∫–∞–º–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏.

* **Typology & Scope Management:**
* **Global (–°–µ—Ç–µ–≤–æ–π):** –¢–æ–≤–∞—Ä—ã, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –∏–∑ –¶–û. –ó–∞–ø—Ä–µ—Ç –Ω–∞ –ø—Ä–∞–≤–∫—É –Ω–∞–∑–≤–∞–Ω–∏—è –∏ –ö–ë–ñ–£ –Ω–∞ —É—Ä–æ–≤–Ω–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–æ—á–µ–∫.
* **Local (–õ–æ–∫–∞–ª—å–Ω—ã–π):** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è —É–ø—Ä–∞–≤–ª—è—é—â–∏—Ö —Å–æ–∑–¥–∞–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –¥–ª—è –Ω—É–∂–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –Æ–Ω–∏—Ç–∞.

* **Integrity Guard:** * –õ–æ–≥–∏–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏: –∑–∞–ø—Ä–µ—Ç –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏ (Soft Delete) —Ç–æ–≤–∞—Ä–∞, –µ—Å–ª–∏ –æ–Ω –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–Ω –≤ –∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ—Ü–µ–ø—Ç–µ (–ú–æ–¥—É–ª—å 02) –∏–ª–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –Ω–µ–∑–∞–∫—Ä—ã—Ç–æ–π —Ä–µ–≤–∏–∑–∏–∏.

### 2. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (UI/UX)

* **Nomenclature Catalog:** * –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ –±–µ–∑ –∫–æ–ª–æ–Ω–∫–∏ ¬´–¢–µ–∫—É—â–∏–π –æ—Å—Ç–∞—Ç–æ–∫¬ª (—á—Ç–æ–±—ã –Ω–µ –≤–≤–æ–¥–∏—Ç—å –≤ –∑–∞–±–ª—É–∂–¥–µ–Ω–∏–µ).
* **Freshness Indicators:** –í–∏–∑—É–∞–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö: üü¢ <7 –¥–Ω–µ–π, üü° 7-30 –¥–Ω–µ–π, üî¥ >30 –¥–Ω–µ–π —Å Tooltips, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–º–∏ —Ç–æ—á–Ω—É—é –¥–∞—Ç—É –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏.

* **Receiving Interface (–ü—Ä–∏–µ–º–∫–∞):** * –≠–∫—Ä–∞–Ω –≤–≤–æ–¥–∞ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö –∏ —á–µ–∫–æ–≤. –ö–∞–∂–¥–∞—è –ø—Ä–∏–µ–º–∫–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–ª–µ `cost_price` (–º–µ—Ç–æ–¥ ¬´–ü–æ—Å–ª–µ–¥–Ω–µ–π —Ü–µ–Ω—ã¬ª) –∏ –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç —Ç—Ä–∏–≥–≥–µ—Ä –¥–ª—è –ø–µ—Ä–µ—Å—á–µ—Ç–∞ –º–∞—Ä–∂–∏ –≤ –¢–¢–ö.
* **Manual Loss (–°–ø–∏—Å–∞–Ω–∏—è):** * –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ñ–∏–∫—Å–∞—Ü–∏–∏ –ø–æ—Ä—á–∏, –±–æ—è –∏ —Å—Ç–∞—Ñ—Ñ-–ø–∏—Ç–∞–Ω–∏—è.
* **–§—É–Ω–∫—Ü–∏—è ¬´–ú–∞—Ç—Ä–µ—à–∫–∞¬ª:** –í–∏–∑—É–∞–ª—å–Ω–∞—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –±–ª—é–¥ –¥–æ —Å—ã—Ä—å—è –ø—Ä—è–º–æ –≤ —Ñ–æ—Ä–º–µ —Å–ø–∏—Å–∞–Ω–∏—è.

### 3. –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

* **Snapshot Delta View:** –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ª—é–±—ã—Ö –¥–≤—É—Ö —Å–Ω–∏–º–∫–æ–≤ —Ä–µ–≤–∏–∑–∏–π. –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã—è–≤–ª—è—Ç—å –∞–Ω–æ–º–∞–ª–∏–∏ –∏ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –≤ Stock Value –º–µ–∂–¥—É –ø–µ—Ä–∏–æ–¥–∞–º–∏.
* **Mobile Scanner Integration:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–º–µ—Ä—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–∞ –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ –ø—Ä–∏ –ø—Ä–∏–µ–º–∫–µ –∏–ª–∏ —Ä–µ–≤–∏–∑–∏–∏.
* **Print Engine:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –ø–µ—á–∞—Ç—å QR-—ç—Ç–∏–∫–µ—Ç–æ–∫ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ (—Å—Ç–µ–ª–ª–∞–∂–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ).

---

### –°—Ö–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö (–î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ Prisma)

```typescript
/**
 * [EVAS_PROTIP]: –î–ª—è –°–ø—Ä–∏–Ω—Ç–∞ 2 –º—ã —Ä–∞—Å—à–∏—Ä—è–µ–º —Å—Ö–µ–º—É –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã 
 * –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ –ö–ë–ñ–£. –≠—Ç–æ –±–∞–∑–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ 
 * –Ω—É—Ç—Ä–∏—Ü–∏–æ–ª–æ–≥–∏–∏ –≤ —Å–ª–µ–¥—É—é—â–µ–º —Å–ø—Ä–∏–Ω—Ç–µ (–¢–¢–ö).
 */

// –§—Ä–∞–≥–º–µ–Ω—Ç –º–æ–¥–µ–ª–∏ –≤ schema.prisma
model Product {
  id            String   @id @default(cuid())
  name          String
  category      String
  uom           String   // –ï–¥. –∏–∑–º–µ—Ä–µ–Ω–∏—è
  costPrice     Int      // –¶–µ–Ω–∞ –≤ –∫–æ–ø–µ–π–∫–∞—Ö/—Ü–µ–Ω—Ç–∞—Ö
  
  // –ù—É—Ç—Ä–∏—Ü–∏–æ–ª–æ–≥–∏—è (–Ω–∞ 100–≥/–º–ª)
  kcal          Float    @default(0)
  proteins      Float    @default(0)
  fats          Float    @default(0)
  carbs         Float    @default(0)
  
  isGlobal      Boolean  @default(false)
  isArchived    Boolean  @default(false)
  businessId    String   @index
}

```
