# Модуль 08: Операционный контроль (Operational Control)

<!--toc:start-->

- [Модуль 08: Операционный контроль (Operational Control)](#модуль-08-операционный-контроль-operational-control)
  - [1. Назначение и Философия](#1-назначение-и-философия)
  - [2. Ключевые инструменты](#2-ключевые-инструменты)
    - [2.1 Конструктор Чек-листов (Checklist Engine)](#21-конструктор-чек-листов-checklist-engine)
    - [2.2 Цифровой ХАССП (HACCP Journals)](#22-цифровой-хассп-haccp-journals)
    - [2.3 Реестр Инцидентов (Incident Log)](#23-реестр-инцидентов-incident-log)
  - [3. Аналитика и Дисциплина (Audit Score)](#3-аналитика-и-дисциплина-audit-score)
  - [4. Очередь разработки](#4-очередь-разработки)
  <!--toc:end-->

## 1. Назначение и Философия

Модуль предназначен для обеспечения операционной дисциплины и соблюдения стандартов ХАССП (HACCP).
Система полностью исключает бумажный документооборот на точках.

- **Shift Integrity (Связь со сменой):** Реализован **Shift Gate Overlay** — блокировка доступа к чек-листам и журналам,
  если у сотрудника нет активной смены в Модуле 03.
- **Принцип Доказательности:** Все критические действия требуют фото-фиксации.
  Визуальный интерфейс камеры оптимизирован под мобильные устройства для быстрой работы.
- **Стилизация:** Формы ввода используют миксин `@include glass-morphism`
  и семантические переменные для ошибок (`$color-danger` / `rose-500`).

## 2. Ключевые инструменты

### 2.1 Конструктор Чек-листов (Checklist Engine)

- **Принцип Доказательности:** Требование фото-фиксации остается опциональным. Если в настройках шаблона галочка снята, интерфейс камеры скрывается, и выполнение задачи подтверждается без фото.

- **True Capture (Critical):** Программная блокировка доступа к галерее (`type="file"` отключен).
  Загрузка возможна только через прямое использование камеры.
- **GPS Geo-tagging (Critical):** При сохранении фото система записывает GPS-координаты
  устройства для подтверждения нахождения сотрудника на объекте.
- **EXIF Server Validation (Critical):** Сверка серверного timestamp с метаданными фото для исключения манипуляций
  со временем на телефоне.

### 2.2 Цифровой ХАССП (HACCP Journals)

Замена санитарных журналов:

- **HACCP Visual Feedback (Medium):** При вводе температуры вне нормы граница инпута окрашивается в `$color-danger`
  и появляется обязательное поле для комментария.
- **Health Journal Auto-reset (Low):** Автоматическая очистка данных журнала здоровья
  перед началом каждой операционной даты.
- **Бракераж:** Реестр списаний готовой продукции с прямой связью с Модулем 01.

### 2.3 Реестр Инцидентов (Incident Log)

Единая точка входа для нештатных ситуаций:

- **SLA Incident Queue (Medium):** Сортировка заявок по времени, оставшемуся до нарушения SLA ремонта из Модуля 09.
- **Cross-Module Flow:** Авто-создание сервисного тикета в Модуле 09 при регистрации поломки.

## 3. Аналитика и Дисциплина (Audit Score)

На основе работы формируется «Рейтинг дисциплины»:

- **Audit Score:** Процент вовремя выполненных задач. Визуализируется через градиентные графики в дашборде владельца.
- **Problem Zones:** Выделение зон и сотрудников с наибольшим количеством операционных нарушений.

## 4. Очередь разработки

| ID        | Задача                                       | Статус         |
| :-------- | :------------------------------------------- | :------------- |
| [DEV-8.1] | Реализация True Capture и блокировка галереи | В разработке   |
| [DEV-8.2] | Генератор EXIF-меток и GPS-валидатор         | В разработке   |
| [DEV-8.5] | SLA-очередь инцидентов и HACCP Feedback      | В разработке   |
| [ARCH-10] | Схема интеграции Инцидент -> Тикет -> Расход | Спроектировано |
