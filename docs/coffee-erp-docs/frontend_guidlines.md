# Frontend Guidelines: Разработка компонентов

Настоящий документ регламентирует правила написания React-компонентов и стилей.
Стек: **TypeScript** + **SCSS Modules** + **Radix UI** + **clsx**.

---

## 1. Архитектура и Типизация

### 1.1. Strict Typing (No Any)

Использование типа `any` **ЗАПРЕЩЕНО**.

- Для неизвестных данных использовать `unknown` с последующим сужением типа.
- Все пропсы компонентов должны иметь интерфейс или тип с префиксом `Props`.

### 1.2. Структура модуля

```text
src/shared/ui/ComponentName/
├── ComponentName.tsx
├── ComponentName.module.scss
└── index.ts (опционально)

```

---

## 2. Стилизация (SCSS Modules)

### 2.1. Автоматический импорт

Благодаря `additionalData` в `vite.config.ts`, переменные и миксины доступны в каждом `.module.scss` без ручного импорта.
**Важно:** используйте переменные напрямую (например, `color: $textPrimary`), так как они экспортированы через `as *`.

### 2.2. Написание классов

- Используем **CamelCase** (`.unitButton`, `.sidebarHeader`).
- Для сложных состояний (активный элемент, ошибка) используем `clsx` (утилита `cx`).

```tsx
// Пример правильного объединения классов
import styles from "./Sidebar.module.scss";
import { cx } from "@/shared/lib/utils";

const className = cx(styles.unitButton, isActive && styles.active);
```

---

## 3. Работа с Radix UI

Мы придерживаемся **Headless-подхода**: Radix обеспечивает доступность, мы обеспечиваем визуализацию через SCSS Modules.

- Стилизация состояний Radix выполняется через дата-атрибуты: `&[data-state='open']`.
- Все интерактивные элементы должны иметь область нажатия не менее 44px.

---

## 4. Производительность и Ограничения

- **Blur**: Не использовать `backdrop-filter: blur()` внутри списков с большим количеством элементов (>20).
  Это вызывает значительное падение FPS на мобильных устройствах.
- **Variables**: Не переопределять системные переменные внутри компонентов. Если нужен кастомный цвет,
  он должен быть добавлен в `_variables.scss` как новый токен.
